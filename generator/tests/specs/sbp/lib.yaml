# Copyright (C) 2015 Swift Navigation Inc.
# Contact: Fergus Noble <fergus@swiftnav.com>
#
# This source is subject to the license found in the file 'LICENSE' which must
# be be distributed together with this source. All other rights reserved.
#
# THIS CODE AND INFORMATION IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND,
# EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED
# WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR PURPOSE.

package: test.specs.lib
description: Defines a variety of common structs.
include:
  - types.yaml
definitions:

 - UARTChannel:
    desc: State of the UART channel.
    fields:
        - txThroughput:
            type: float
            desc: UART transmit throughput.
        - rxThroughput:
            type: float
            desc: UART receive throughput.
        - crcErrorCount:
            type: u16
            desc: UART CRC error count.
        - txBufferLevel:
            type: u8
            desc: UART transmit usage percentage.
        - rxBufferLevel:
            type: float
            desc: UART receive usage percentage.

  # the actual type of the elements going into the array solution_inputs in MSG_SOLN_META
 - SolutionInputType:
     id: 0xFFE6
     short_desc: Flags for a given solution input type.
     desc: |
       Metadata describing which sensors were involved in the solution.
       The structure is fixed no matter what the actual sensor type is.
       The sensor_type field tells you which sensor we are talking about. It also tells you
       whether the sensor data was actually used or not.
       The flags field, always a u8, contains the sensor-specific data.
       The content of flags, for each sensor type, is described in the relevant structures in this section.
     type: u16
     fields:
       - sensor_type:
           type: u8
           desc: The type of sensor
           fields:
             - 0-2:
                 desc: The type of sensor
                 values:
                   - 0: GNSS Position (see GNSSInputType)
                   - 1: GNSS Velocity Displacement (see GNSSInputType)
                   - 2: GNSS Velocity Doppler (see GNSSInputType)
                   - 3: Odometry Ticks (see OdoInputType)
                   - 4: Odometry Speed (see OdoInputType)
                   - 5: IMU Sensor (see IMUInputType)
                   - 6: Reserved
                   - 7: Reserved
             - 3-4:
                 desc: Whether this sensor input was actually used or not
                 values:
                   - 0: unknown
                   - 1: received and used
                   - 2: received but not used
             - 5-7:
                 desc: Reserved
       - flags:
           type: u8
           units: <Sensor>InputType
           desc: Refer to each InputType description
